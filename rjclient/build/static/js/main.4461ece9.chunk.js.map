{"version":3,"sources":["background.jpg","videoview.js","webrtc.js","App.js","Entry.js","Router.js","serviceWorker.js","index.js"],"names":["module","exports","React","Component","webrtc","configuration","RTCPeerConnection","window","mozRTCPeerConnection","webkitRTCPeerConnection","msRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","webkitRTCSessionDescription","msRTCSessionDescription","this","OnEvent","Map","peer_connections","peer_id","IDGenerator","navigator","mediaDevices","getUserMedia","mozGetUserMedia","webkitGetUserMedia","msGetUserMedia","name","type","cb","set","Set","add","prm","evt","forEach","length","timestamp","Date","min","max","parts","toString","split","reverse","id","i","Math","floor","random","url","retry","_this","urlObj","URL","searchParams","websocket","disconnect","WebSocket","onerror","error","console","log","connect","trigger","onopen","keepalive_timer","setInterval","keepAlive","register","onmessage","received_msg","data","OnMessage","bind","onclose","message","useragent","userAgent","send","JSON","stringify","clearInterval","close","parsedMessage","parse","info","onInvite","onRinging","onOffer","onAnswer","onCandidate","onPeers","onLeave","onBye","audio","size","width","height","local_stream","constraints","video","closeMediaStream","media","Error","createPeerConnection","self_id","session_id","pc","createOffer","desc","sdp","setLocalDescription","localDescription","sendOffer","logError","isOffer","localstream","onicecandidate","event","candidate","sendCandidate","onnegotiationneeded","oniceconnectionstatechange","currentState","currentTarget","iceConnectionState","stream","removeConnection","onsignalingstatechange","onaddstream","onremovestream","addStream","textDataChannel","dataChannel","createDataChannel","peers","to","description","from","setRemoteDescription","remoteDescription","createAnswer","sendAnswer","toId","addIceCandidate","RTCIceCandidate","peerConnections","undefined","tracks","getTracks","len","stop","Transition","forwardRef","props","ref","Slide","direction","App","handleChange","setState","peerid","target","value","handleOnCall","call","handleClose","handleClickOpen","open","streams","location","state","startConnection","Array","map","key","document","getElementById","srcObject","setClientInfo","addEvent","delete","getPeerId","createLocalStream","then","connectWebsocket","classes","peerList","item","ListItem","onClick","ListItemText","primary","ListItemSecondaryAction","IconButton","edge","aria-label","className","root","AppBar","position","Toolbar","Fab","color","fab","Typography","variant","title","style","href","Grid","container","spacing","justify","alignItems","xs","autoPlay","playsInline","Dialog","fullScreen","onClose","TransitionComponent","appBar","List","withStyles","theme","createStyles","flexGrow","menuButton","marginRight","margin","marginLeft","flex","Entry","okHandle","isRedirect","onChangeHandle","pathname","Fragment","Card","card","CardActionArea","CardContent","TextField","label","textField","onChange","CardActions","Button","button","input","display","Router","path","exact","component","Boolean","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4461ece9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background.1f462aec.jpg\";","// Ahmet CAN\n// http://ahmetcan.com.tr \n// eposta@ahmetcan.com.tr\n// 20.09.2019\n\nimport React from 'react';\nclass VideoView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.video = React.createRef();\r\n\r\n    }\n    componentDidUpdate() {\r\n        console.log(\"componentDidUpdate\")\r\n        this.video.current.srcObject = this.props.stream;//after every render process we have to use srcObject property otherwise video wouldn't show stream\n\r\n    }\n    render() {\n        return <video  ref={this.video} autoPlay playsInline></video>\n    };\n}\n\nexport default VideoView;\n","// Ahmet CAN \n// http://ahmetcan.com.tr \n// eposta@ahmetcan.com.tr\n// 19.09.2019\n//webrtc client \n\nclass webrtc{\n    websocket;\n    retry;\n    url;\n    OnEvent;\n    constructor() {\n        this.OnEvent = new Map();\n        this.peer_connections = {};\n        this.peer_id = this.IDGenerator();\n        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n            window.navigator.getUserMedia = window.navigator.mediaDevices.getUserMedia;\n        }\r\n        else {\r\n            window.navigator.getUserMedia = window.navigator.getUserMedia || window.navigator.mozGetUserMedia || window.navigator.webkitGetUserMedia || window.navigator.msGetUserMedia;\n\r\n        }\r\n\n\n    } \n    getPeerId() {\n        return this.peer_id;\r\n    }\n    setClientInfo(name) {\n        this.name = name;\r\n    }\n    addEvent(type, cb) {\n        var set = this.OnEvent[type];\r\n        if (!set) {\r\n            set = new Set();\r\n            this.OnEvent[type] = set;\r\n        }\r\n        set.add(cb);\r\n    }\n    trigger(type,...prm) {\n        var evt = this.OnEvent[type]\r\n        if(evt)evt.forEach((cb) => cb(...prm,this));\r\n    }\n\n    //websocket connection implementations\n    IDGenerator() {\r\n        this.length = 8;\r\n        this.timestamp = +new Date;\r\n\r\n        var _getRandomInt = function (min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        }\r\n\r\n        var ts = this.timestamp.toString();\r\n        var parts = ts.split(\"\").reverse();\r\n        var id = \"\";\r\n\r\n        for (var i = 0; i < this.length; ++i) {\r\n            var index = _getRandomInt(0, parts.length - 1);\r\n            id += parts[index];\r\n        }\r\n\r\n        return id;\r\n    }\n    connect(url, retry = true) {\n        var _this = this;//websocket events have different context,we will reference this class for websocket events\n        this.retry = this.retry || retry;\n\n        var urlObj = new URL(url);\n        urlObj.searchParams.set(\"id\", this.peer_id);\n        this.url = urlObj.toString();\n\n\n        \r\n        if (this.websocket) this.disconnect();\r\n        this.websocket = new WebSocket(_this.url);\r\n\r\n\r\n        this.websocket.onerror = function (error) {\r\n            console.log(\"websocket error ->\"+error);\r\n            if (_this.retry) {\r\n                _this.connect(url, retry);\r\n            }\r\n            _this.trigger(\"error\",error);\r\n\r\n        }\r\n        this.websocket.onopen = function () {\r\n            console.log(\"websocket has been opened\");\r\n            _this.trigger(\"opened\");\r\n            _this.keepalive_timer = setInterval(this.keepAlive, 15000);\r\n\r\n            _this.register();\r\n        };\r\n\r\n        this.websocket.onmessage = function (evt) {\r\n            var received_msg = evt.data;\r\n            this.trigger(\"message\",received_msg);\r\n            this.OnMessage(received_msg);\r\n        }.bind(this);\r\n\r\n        this.websocket.onclose = function (evt) {\r\n            console.log(\"websocket has been closed\");\r\n            _this.trigger(\"closed\");\r\n            if (_this.retry) {\r\n                _this.connect(url, retry);\r\n            }\r\n        };\r\n     \r\n    }\n    register() {\n        var _this = this;\n        \n        var message = {\n            type: \"register\",\n            name: _this.name,\n            useragent: navigator.userAgent,\r\n        };\n        _this.send(message);\r\n    }\n    keepAlive() {\n        this.send({ type: 'keepalive', data: {} });\n        console.log('Sent keepalive');\n    }\n    send(data) {\n        this.websocket.send(JSON.stringify(data));\r\n    }\n    disconnect() {\n        window.clearInterval(this.keepalive_timer);\n        this.retry = false;\r\n        this.websocket.close();\r\n        this.websocket = null;\r\n    }\n\n    //signal server protocol implementations\n\n\n    configuration = { \"iceServers\": [{ \"url\": \"stun:stun.l.google.com:19302\" }], \"sdpSemantics\": 'plan-b' };\n    RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection || window.msRTCPeerConnection;\n    RTCSessionDescription = window.RTCSessionDescription || window.mozRTCSessionDescription || window.webkitRTCSessionDescription || window.msRTCSessionDescription;\n\n     \n\r\n   \n    OnMessage(message) {\n        var _this = this;\n        var parsedMessage = JSON.parse(message);\n\n        console.info('signal server message: {\\n type = ' + parsedMessage.type + ', \\n  data = ' + JSON.stringify(parsedMessage.data) + '\\n}');\n\n        switch (parsedMessage.type) {\n            case 'call':\n                _this.onInvite(parsedMessage);\n                break;\n            case 'ringing':\n                _this.onRinging(parsedMessage);\n                break;\n            case 'offer':\n                _this.onOffer(parsedMessage);\n                break;\n            case 'answer':\n                _this.onAnswer(parsedMessage);\n                break;\n            case 'candidate':\n                _this.onCandidate(parsedMessage);\n                break;\n            case 'peer_changed':\n                _this.onPeers(parsedMessage);\n                break;\n            case 'leave':\n                _this.onLeave(parsedMessage);\n                break;\n            case 'bye':\n                _this.onBye(parsedMessage);\n                break;\n            case 'keepalive':\n                console.log('keepalive response!');\n                break;\n            default:\n                console.error('Unrecognized message', parsedMessage);\n        }\r\n\r\n       \n\r\n    }\n    async createLocalStream(type, audio = false, size = { width: 640, height: 400  }) {\n        var _this = this;\n        if (_this.local_stream) return _this.local_stream;\n       \n        var constraints = {\r\n            audio: audio,\n            video: type === 'video' ? size : false\r\n        };\n        _this.local_stream = await navigator.mediaDevices.getUserMedia(constraints);\n        _this.trigger(\"open_local_stream\", _this.local_stream);\n        return _this.local_stream;\n       \n    }\n    closeLocalStream() {\n        var _this = this;\n        if (_this.local_stream != null) {\n            _this.closeMediaStream(_this.local_stream);\n            _this.local_stream = null;\n        }\r\n    }\n    call(peer_id,media) {\n        var _this = this;\n        if (!_this.local_stream) {\n            throw new Error(\"local stream must be opened\");\r\n        }\n        _this.createPeerConnection(peer_id, media, true, _this.local_stream);\n        _this.trigger('new_call', _this.self_id, _this.session_id);\n    };\n\n   \n\n    createOffer(pc,id,media) {\n        var _this = this;\n        pc.createOffer(function (desc) {\n            console.log('create_offer: ', desc.sdp);\n            pc.setLocalDescription(desc, function () {\n                console.log('setLocalDescription', pc.localDescription);\n                _this.sendOffer(id,media,pc.localDescription);\n            }, _this.logError);\n        }, _this.logError);\n    }\n\n    createPeerConnection(id, media, isOffer, localstream) {\n        var _this = this;\n        var pc = new RTCPeerConnection(this.configuration);\n        _this.peer_connections[\"\" + id] = pc;\n        pc.onicecandidate = function (event) {\n            console.log('onicecandidate', event);\n            if (event.candidate) {\n                _this.sendCandidate(id,event.candidate);\n            }\n        };\n\n        pc.onnegotiationneeded = function () {\n            console.log('onnegotiationneeded');\n        };\n\n        pc.oniceconnectionstatechange = function (event) {\n\n            console.log('oniceconnectionstatechange', event);\n            var currentState = event.currentTarget.iceConnectionState;\r\n            if (currentState === 'connected') {\n                //_this.createDataChannel(pc);\n                console.log(\"video_connected\");\n                _this.trigger('video_connected', id, event.stream);\n\n            }\n            else if (currentState === 'disconnected') {\r\n                console.log(\"video_disconnected\");\n                _this.trigger('video_disconnected', id, event.stream);\n\n            }\r\n            else if (currentState === 'failed' || currentState === 'closed') {\r\n                console.log(\"video_closed\");\n                _this.removeConnection(id);\n\r\n            }\n        };\n        pc.onsignalingstatechange = function (event) {\n            console.log('onsignalingstatechange', event);\n        };\n\n        pc.onaddstream = function (event) {\n            console.log('onaddstream', event);\n            _this.trigger('on_add_stream',id ,event.stream);\n        };\n\n        pc.onremovestream = function (event) {\n            console.log('onremovestream', event);\n            _this.trigger('on_remove_stream',id,event.stream);\n        };\n\n        pc.addStream(localstream);\n\n        if (isOffer) _this.createOffer(pc, id, media);\n        return pc;\n    }\n\n    createDataChannel(pc) {\n        if (pc.textDataChannel) {\n            return;\n        }\n        var dataChannel = pc.createDataChannel(\"text\");\n\n        dataChannel.onerror = function (error) {\n            console.log(\"dataChannel.onerror\", error);\n        };\n\n        dataChannel.onmessage = function (event) {\n            console.log(\"dataChannel.onmessage:\", event.data);\n        };\n\n        dataChannel.onopen = function () {\n            console.log('dataChannel.onopen');\n        };\n\n        dataChannel.onclose = function () {\n            console.log(\"dataChannel.onclose\");\n        };\n\n        pc.textDataChannel = dataChannel;\n    }\n\n    onPeers(message) {\n        var _this = this;\n        var peers = message.peers;\n        console.log(\"peers = \" + JSON.stringify(peers));\n        _this.trigger('peers_changed', peers);\n    }\n    sendOffer(id,media,localDescription) {\n        var _this = this;\n        var message = {\n            type: 'offer',\n            to: id,\n            media: media,\n            description: localDescription\n        };\n        _this.send(message);\r\n    }\n    onOffer(message) {\n        var _this=this;\n        var data = message;\n        var from = data.from;\n        console.log(\"data:\" + data);\n        var media = data.media;\n        _this.trigger('new_call', from);\n\n        if (_this.local_stream) {\n            var pc = _this.createPeerConnection(from, media, false, _this.local_stream);\n\n            if (pc && data.description) {\n                pc.setRemoteDescription(\n                    new RTCSessionDescription(data.description), function () {\n                        if (pc.remoteDescription.type == \"offer\") {//if offer\n                            pc.createAnswer(function (desc) {\n                                console.log('createAnswer: ', desc);\n                                pc.setLocalDescription(desc, function () {\n                                    console.log('setLocalDescription', pc.localDescription);\n                                    _this.sendAnswer(from, pc.localDescription);\n                                }, _this.logError);\n                            }, _this.logError);\n                        }//if offer\n                    }, _this.logError);\n            }\n        }\n        else {\n            console.log(\"onOffer error local stream not open\");\r\n        }\n    }\n    sendAnswer(from, localDescription) {\n        var _this = this;\n        var message = {\n            type: 'answer',\n            to: from,\n            description: localDescription\n        };\n        _this.send(message);\r\n    }\n   \n    onAnswer(message) {\n        var _this = this;\n        var data = message;\n        var from = data.from;\n        var pc = null;\n        if (from in _this.peer_connections) {\n            pc = _this.peer_connections[from];\n        }\n        if (pc && data.description) {\n            //console.log('on answer sdp', data);\n            pc.setRemoteDescription(new RTCSessionDescription(data.description), function () { }, _this.logError);\n        }\n    }\n    sendCandidate(toId, candidate) {\n        var _this = this;\n\n        var message = {\n            type: 'candidate',\n            to: toId,\n            candidate: candidate\n        };\n        _this.send(message);\r\n    }\n    onCandidate(message) {\n        var _this = this;\n        var data = message;\n        var from = data.from;\n        var pc = null;\n        if (from in _this.peer_connections) {\n            pc = _this.peer_connections[from];\n        }\n        if (pc && data.candidate) {\n            pc.addIceCandidate(new RTCIceCandidate(data.candidate));\n        }\n    }\n\n    onLeave(message) {\n        var _this = this;\n        var id = message.data;\n        console.log('leave', id);\n        _this.trigger('leave', id);\n        _this.removeConnection(id);\n\n        \n    }\n    removeConnection(id) {\n        var _this = this;\n        var peerConnections = _this.peer_connections;\n        var pc = peerConnections[id];\n        if (pc !== undefined) {\n            pc.close();\n            delete peerConnections[id];\n            _this.trigger('connection_removed', id);\n\n        }\r\n    }\n    sendBye() {\n        var _this = this;\n        var message = {\n            type: 'bye'\n        };\n        _this.send(message);\n    };\n    onBye(message) {\n        var _this = this;\n        var data = message.data;\n        var from = data.from;\n        var to = data.to;\n        console.log('bye: ', data.session_id);\n        var peerConnections = _this.peer_connections;\n        var pc = peerConnections[to] || peerConnections[from];\n        if (pc !== undefined) {\n            pc.close();\n            delete peerConnections[to];\n            _this.trigger('call_end', to);\n        }\n       \n    }\n\n\n    closeMediaStream(stream) {\n        if (!stream) return;\n\n        var tracks = stream.getTracks();\n\n        for (var i = 0, len = tracks.length; i < len; i++) {\n            tracks[i].stop();\n        }\n    }\n    logError(error) {\n        console.log(\"logError\", error);\n    };\n}\n\nexport default webrtc;","import React, { useState } from 'react';\r\nimport VideoView from \"./videoview\";\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { withStyles, createStyles } from '@material-ui/core/styles'; //bu önemli çünkü theme.spacing(15) @material-ui/styles ile çalışmıyor\r\nimport CallIcon from '@material-ui/icons/Call';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport webrtc from './webrtc.js';\r\nconst mui_style = (theme) => createStyles(\r\n    {\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        menuButton: {\r\n            marginRight: theme.spacing(2),\r\n        },\r\n        title: {\r\n            flexGrow: 1,\r\n        },\r\n        fab: {\r\n            margin: theme.spacing(1),\r\n        },\r\n        appBar: {\r\n            position: 'relative',\r\n        },\r\n        title: {\r\n            marginLeft: theme.spacing(2),\r\n            flex: 1,\r\n        },\r\n    }\r\n);\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.webrtc = new webrtc();\r\n        this.streams = new Map();\r\n        var name = \"noname\";\r\n        if (this.props.location.state) name = this.props.location.state.name;\r\n        this.state = { localstream: null, peers: [], peerid: null, streams: new Map(), open: false, name: name };\r\n    }\r\n\r\n   \r\n    componentDidMount() {\r\n        this.startConnection();\r\n    }\r\n    componentDidUpdate() {\r\n     \r\n        {\r\n            Array.from(this.streams).map(([key, value]) => {\r\n                document.getElementById(key).srcObject=value;\r\n                    \r\n            })\r\n        }\r\n\r\n    }\r\n    connectWebsocket() {\r\n        this.webrtc.setClientInfo(this.state.name);\r\n        this.webrtc.connect(\"wss://webrtc-ahmetcan.herokuapp.com/signal\", true);\r\n        \r\n        this.webrtc.addEvent(\"opened\", (evt) => {\r\n\r\n        });\r\n        this.webrtc.addEvent(\"message\",(message) => {\r\n            console.log(message);\r\n        });\r\n        this.webrtc.addEvent(\"peers_changed\", (peers) => {\r\n            console.log(peers);\r\n            this.setState({\r\n                peers: peers,\r\n            });\r\n        });\r\n        this.webrtc.addEvent(\"on_add_stream\", (id, stream) => {\r\n            this.streams.set(id, stream);\r\n            this.setState({ streams: this.streams });\r\n\r\n        });\r\n        this.webrtc.addEvent(\"on_remove_stream\", (id, stream) => {\r\n            this.streams.delete(id);\r\n            this.setState({ streams: this.streams });\r\n\r\n        });\r\n       \r\n       \r\n    }\r\n    startConnection() {\r\n        let _this = this;\r\n        this.peer_id = this.webrtc.getPeerId();\r\n\r\n        this.webrtc.createLocalStream(\"video\", true).then((stream) => {\r\n            this.setState({\r\n                localstream: stream\r\n            });\r\n            this.streams.set(this.peer_id, stream);\r\n            this.setState({ streams: this.streams });\r\n            _this.connectWebsocket();\r\n        }); \r\n\r\n    }\r\n    handleChange=(event)=> {\r\n        this.setState({ peerid: event.target.value });\r\n    }\r\n    handleOnCall = (peerid) => {\r\n        this.webrtc.call(peerid, \"video\");\r\n        this.handleClose();\r\n        console.log(\"call\");\r\n    }\r\n    handleClickOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    render() {\r\n        var _this = this;\r\n        var { classes } = this.props;\r\n        var peerList =\r\n            this.state.peers.map(item => {\r\n                return (\r\n                    <ListItem onClick={() => { _this.handleOnCall(item.peerid) }}>\r\n                        <ListItemText primary={item.name+\" PeerID:\"+item.peerid} />\r\n                        <ListItemSecondaryAction>\r\n                            <IconButton edge=\"end\" aria-label=\"CALL\" onClick={() => { _this.handleOnCall(item.peerid) }}>\r\n                                <CallIcon />\r\n                            </IconButton>\r\n                            \r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                );\r\n            });\r\n        \r\n\r\n        return (\r\n            \r\n            \r\n            <div className={classes.root}>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n\r\n                        <Fab edge=\"start\" color=\"secondary\" aria-label=\"add\" className={classes.fab} onClick={this.handleClickOpen}>\r\n                            <CallIcon />\r\n                        </Fab>\r\n                        <Typography variant=\"h6\" className={classes.title}>\r\n                            {this.state.peers.length}{\"<= Connect To Peer\"}\r\n                        </Typography>\r\n                        <a style={{color:\"white\"}} href=\"https://github.com/ahmetcancomtr\" target=\"_blank\">Ahmet CAN/GitHub</a>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <Grid container spacing={3}\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\">\r\n\r\n                   \r\n\r\n                    {Array.from(this.state.streams).map(([key, value]) => {\r\n                        return (\r\n                            <Grid item xs>\r\n                                <video style={{ width: \"100%\", height:\"100%\" }} id={key} autoPlay playsInline />\r\n                            </Grid>\r\n                            )\r\n                    })}\r\n                                       \r\n                   \r\n                </Grid>\r\n\r\n                <Dialog fullScreen open={this.state.open} onClose={this.handleClose} TransitionComponent={Transition}>\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton edge=\"start\" color=\"inherit\" onClick={this.handleClose} aria-label=\"close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" className={classes.title}>\r\n                                Press Call Button On List\r\n                             </Typography>\r\n                            {/** <Button color=\"inherit\" onClick={this.handleClose}>\r\n                                save\r\n                            </Button>**/}\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <List>\r\n                        {peerList}\r\n                        \r\n                    </List>\r\n                </Dialog>\r\n            </div>\r\n\r\n        )\r\n    };\r\n}\r\n\r\nexport default withStyles(mui_style)(App);\r\n","import React, { Fragment } from 'react';\r\nimport Background from './background.jpg';\r\nimport styles from './index.css'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles, createStyles } from '@material-ui/core/styles'; //bu önemli çünkü theme.spacing(15) @material-ui/styles ile çalışmıyor\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst mui_style = (theme) => createStyles(\r\n    {\r\n        button: {\r\n            margin: theme.spacing(1),\r\n            marginLeft:\"auto\",\r\n        },\r\n        input: {\r\n            display: 'none',\r\n        },\r\n        CardActionArea: {\r\n            height: \"100px\",\r\n        },\r\n        textField: {\r\n            marginLeft: theme.spacing(1),\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    }\r\n);\r\nclass Entry extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { name: null, isRedirect: false };\r\n    }\r\n  \r\n    okHandle = () => {\r\n\r\n        this.setState({\r\n            isRedirect: true\r\n        });\r\n    }\r\n    onChangeHandle = (evt) => {\r\n        this.setState({ name:evt.target.value });\r\n    }\r\n    render() {\r\n\r\n        if (this.state.isRedirect) {\r\n\r\n            return <Redirect to={{\r\n                pathname: '/app',\r\n                state: { name: this.state.name }\r\n            }}/>\r\n        }\r\n\r\n        var { classes } = this.props;\r\n        \r\n        return (\r\n           \r\n           \r\n            <React.Fragment>\r\n                <div className=\"bg\">\r\n                    <div className={'toptitle'}>\r\n                    <h2>\r\n                        ReactJS WebRTC Demo (Asp.Net Core SinglePageApp)\r\n                    </h2>\r\n                    <h3>\r\n                        <a href=\"https://github.com/ahmetcancomtr\" style={{color: \"#000000\" }}>https://github.com/ahmetcancomtr</a><br/>\r\n                    </h3>\r\n                    </div>\r\n                    <Card className={classes.card + ' login-box'}>\r\n                        <CardActionArea className={classes.CardActionArea} >\r\n                        <CardContent>\r\n                                <TextField label=\"Name\" className={classes.textField} value={this.state.name} onChange={this.onChangeHandle} margin=\"normal\" variant=\"outlined\" />\r\n                        </CardContent>\r\n                        </CardActionArea>\r\n                        <CardActions >\r\n                            <Button size=\"small\" variant=\"contained\" color=\"primary\" className={classes.button} onClick={this.okHandle}>\r\n                                Ok\r\n                             </Button>\r\n                        </CardActions>\r\n                    </Card>\r\n                   \r\n            </div>\r\n          </React.Fragment>\r\n        )\r\n    };\r\n}\r\n\r\nexport default withStyles(mui_style)(Entry);\r\n","import React from 'react';\r\nimport  App  from \"./App.js\";\r\nimport  Entry from \"./Entry.js\";\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\n\r\n\r\nclass Router extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <BrowserRouter>\r\n                <Route path=\"/\" exact component={Entry} />\r\n                <Route path=\"/app/\" component={App} />\r\n            </BrowserRouter>\r\n        )\r\n    };\r\n}\r\n\r\nexport default Router;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Router from './Router';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}